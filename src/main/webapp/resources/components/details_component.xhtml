<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:cc="http://java.sun.com/jsf/composite/components"
	xmlns:ch="http://java.sun.com/jsf/composite/components/highlighter"
	xmlns:composite="http://java.sun.com/jsf/composite">

<composite:interface></composite:interface>

<composite:implementation>
<span id="#{cc.clientId}" class="ui-widget-content">
	<h:form id="detailsForm" rendered="#{detailsBean.currentItem != null}">
		<div class="info">
		<p:lightBox id="detailsImageBox" styleClass="imagebox"> 
    		<h:outputLink value="#{detailsBean.currentMovie.backdropImageLink}" title="#{detailsBean.currentMovie.title}">  
    			<img src="/movie_poster/#{detailsBean.currentMovie.movieLensId}.jpg" class="detailsImage" />
    		</h:outputLink>
		</p:lightBox>
		<h:outputText value="#{detailsBean.currentMovie.title}" styleClass="detailsTitle"/> &#160; 
		<h:outputText value="(#{detailsBean.releaseYear})" styleClass="detailsTitle"/> <br />
		Genres: <ui:repeat var="genre" value="#{detailsBean.currentMovie.genres}">#{genre.name}&#160; 
		</ui:repeat><br />
		Director: <ui:repeat var="director" value="#{detailsBean.currentMovie.directors}">#{director.name}&#160;</ui:repeat><br />
		Cast: <ui:repeat var="cast" value="#{detailsBean.currentMovie.cast}">#{cast.actor.name}&#160;</ui:repeat>
		</div>
		<div class="plot">
			<span class="plotTitle">Plot</span> <br />
			<h:outputText value="#{detailsBean.currentMovie.plot}"	/>&#160;
			<h:outputLink value="http://www.imdb.com/title/#{detailsBean.currentMovie.imdbId}" target="_blank" >Read more...</h:outputLink>		
		</div>
	</h:form>
</span>
</composite:implementation>
</html>